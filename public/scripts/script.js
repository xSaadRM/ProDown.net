function getImageDataURL(url,callback){var img=new Image;img.crossOrigin="Anonymous",img.onload=function(){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),ctx=(canvas.width=img.width,canvas.height=img.height,ctx.drawImage(img,0,0),canvas.toDataURL("image/png"));callback(ctx)},img.src=url}function saveImageToLocalStorage(imageURL){getImageDataURL(imageURL,function(dataURL){try{localStorage.setItem("savedImage",dataURL),console.log("Image saved to localStorage!")}catch(e){console.log("LocalStorage is full, or the image is too large to store.")}})}const renderVideoHistory=()=>{const historyMenu=document.querySelector(".history-menu ul");historyMenu.innerHTML="",(JSON.parse(localStorage.getItem("videoHistory"))||[]).forEach((video,index)=>{var listItem=document.createElement("li"),anchor=document.createElement("a"),thumbnailImg=document.createElement("img");thumbnailImg.src=video.thumbnail,thumbnailImg.alt="Thumbnail",anchor.href=video.url,anchor.textContent=video.title,listItem.appendChild(thumbnailImg),listItem.appendChild(anchor),historyMenu.appendChild(listItem)})};